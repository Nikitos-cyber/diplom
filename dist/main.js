(()=>{"use strict";(()=>{const e=document.querySelector(".header-wrapper").querySelector(".callback-btn "),t=document.querySelector(".modal-overlay"),l=document.getElementById("callback");document.querySelector(".modal-close"),document.querySelector(".modal-callback").addEventListener("click",(e=>{e.preventDefault(),e.target.parentNode.matches(".modal-close")&&(t.style.cssText="display:none;",l.style.cssText="display:none;")})),e.addEventListener("click",(e=>{e.preventDefault(),t.style.cssText="display:block;",l.style.cssText="display:block;"})),t.addEventListener("click",(e=>{e.preventDefault(),t.style.cssText="display:none;",l.style.cssText="display:none;"}))})(),(()=>{document.querySelector(".top-menu>ul").children;const e=document.getElementById("services"),t=document.getElementById("faq"),l=document.getElementById("contacts"),o=document.querySelector(".top-menu>ul");let n,c,s=document.documentElement,r=0,d=0;const i=e=>{r+=20,n=setTimeout(i,1,e),document.documentElement.scrollTop<e?s.scrollTop=r:(clearTimeout(n),r=0)},a=e=>{r-=20,c=setTimeout(a,1,e),s.scrollTop>=e?s.scrollTop=r:(clearTimeout(c),r=0)};o.addEventListener("click",(o=>{o.preventDefault();let u=o.target.getAttribute("href");"#contacts"===u&&(d=s.scrollTop,r=d,s.scrollTop<l.getBoundingClientRect().top+d-30&&(n=setTimeout(i,1,l.getBoundingClientRect().top+d-30)),s.scrollTop>=l.getBoundingClientRect().top+d-30&&(c=setTimeout(a,1,l.getBoundingClientRect().top+d-30))),"#services"===u&&(d=s.scrollTop,r=d,s.scrollTop<e.getBoundingClientRect().top+d-30&&(n=setTimeout(i,1,e.getBoundingClientRect().top+d-30)),s.scrollTop>=e.getBoundingClientRect().top+d-30&&(c=setTimeout(a,1,e.getBoundingClientRect().top+d-30))),"#faq"===u&&(d=s.scrollTop,r=d,s.scrollTop<t.getBoundingClientRect().top+d-30&&(n=setTimeout(i,1,t.getBoundingClientRect().top+d-30)),s.scrollTop>=t.getBoundingClientRect().top+d-30&&(c=setTimeout(a,1,t.getBoundingClientRect().top+d-30)))}))})(),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item"),l=document.querySelectorAll(".table"),o=document.querySelectorAll(".table-cell"),n=e.querySelectorAll(".text"),c=e.querySelectorAll(".big");l.forEach((e=>{e.style.opacity="1"})),o.forEach((e=>{e.style.visibility="visible"})),n.forEach((e=>{e.style.fontSize="16px"})),c.forEach((e=>{e.style.fontSize="50px"}));let s,r=0;s=setInterval((()=>{((e,t)=>{e[t].style.position="absolute",o[t].style.visibility="hidden"})(t,r),r++,r>=t.length&&(r=0),((e,t)=>{e[t].style.position="relative",o[t].style.visibility="visible"})(t,r)}),3e3)})(),(()=>{const e=document.querySelector(".modal-overlay"),t=document.getElementById("callback");document.querySelector(".services-carousel").addEventListener("click",(l=>{l.preventDefault(),l.target.matches(".fancyboxModal")&&(e.style.cssText="display:block;",t.style.cssText="display:block;")}));const l=(e=3)=>{const t=document.querySelector(".services-elements"),l=document.querySelector(".services-carousel"),o=document.querySelector(".services-carousel").children,n=(document.querySelector(".arrow-right"),document.querySelector(".arrow-left"),document.querySelector(".services-arrow"));document.documentElement.clientWidth>835&&(e=3),document.documentElement.clientWidth<835&&(e=2),document.documentElement.clientWidth<555&&(e=1);let c=Math.floor(100/e),s=0;(()=>{t.classList.add("glo-slider__main"),l.classList.add("glo-slider__wrap");for(let e of o)e.classList.add("glo-slider__item")})(),(()=>{const e=document.createElement("style");e.id="carouselSlider",e.textContent=`\n    .glo-slider__main{\n      overflow:hidden;\n    }\n    .glo-slider__wrap{\n      display:flex;\n      transition:transform 0.5s;\n      will-change:transform;\n    }\n    .glo-slider__item{\n      flex: 0 0 ${c}%;\n      margin: 0 auto;\n    }\n\n    `,document.head.append(e)})(),n.addEventListener("click",(t=>{let n=t.target;n.matches(".arrow-right")&&s<=o.length-e&&(++s,s>o.length-e&&(s=0),l.style.transform=`translateX(-${s*c}%)`),n.matches(".arrow-left")&&s>=0&&(--s,s<0&&(s=o.length-e),l.style.transform=`translateX(-${s*c}%)`)}))};window.addEventListener("resize",(()=>{document.documentElement.clientWidth>835&&l(3),document.documentElement.clientWidth<835&&l(2),document.documentElement.clientWidth<555&&l(1)})),l()})(),(()=>{const e=document.querySelector(".button-services"),t=document.getElementById("callback"),l=document.querySelector(".modal-overlay");e.addEventListener("click",(e=>{e.preventDefault(),l.style.cssText="display:block;",t.style.cssText="display:block;"})),t.addEventListener("click",(e=>{e.preventDefault(),e.target.parentNode.matches(".modal-close")&&(l.style.cssText="display:none;",t.style.cssText="display:none;")}))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),l=e=>{e.style.display="none"};e.addEventListener("click",(e=>{let o=e.target;var n;o.matches(".title")&&(o.parentNode.classList.contains("active")?(o=o.parentNode,o.classList.remove("active"),l(o.children[1])):(o=o.parentNode,t.forEach((e=>{o!==e&&(e.classList.contains("active")&&e.classList.remove("active"),l(e.children[1]))})),o.classList.add("active"),(n=o.children[1]).style.padding="20px",n.style.display="block"))}))})(),(()=>{const e=document.querySelector(".up"),t=document.getElementById("services");let l,o=0;e.addEventListener("click",(n=>{n.preventDefault();let c=-1*Math.floor(t.getBoundingClientRect().top);o=c,l=setInterval((()=>{o-=8,document.documentElement.scrollTop=o,-1*Math.floor(t.getBoundingClientRect().top)<=0&&(e.style.display="none"),document.documentElement.scrollTop<=0&&clearInterval(l)}))})),window.addEventListener("scroll",(()=>{-1*Math.floor(t.getBoundingClientRect().top)>0&&(e.style.display="block")}))})(),(()=>{const e=document.querySelector(".rf");let t=new Set;(e=>{const o=e.querySelector(".btn"),n=e.querySelectorAll(".form-group");let c=n[0].children[0],s=n[1].children[0];const r=document.createElement("div");r.style.cssText="font-size:2rem;";let d=[c,s];const i=e=>{let l=e.target;var o;""!==(o=l).value.trim()&&("fio"===o.name?/^[^\w]+$/i.test(o.value):"tel"===o.name&&/^\+?[87]([-()]*\d){10}$/.test(o.value))?(l.style.border="solid green",t.delete(l)):(e.preventDefault(),l.style.border="solid red",t.add(l))};d.forEach((e=>{e.addEventListener("change",i)})),o.addEventListener("click",(o=>{e.append(r),e.id&&(r.style.cssText="color:white;");let n={name:c.value,tel:s.value};d.forEach((e=>{""===e.value.trim()&&(t.add(e),e.style.border="solid red")})),0===t.size&&(r.textContent="Загрузка...",l(n).then((e=>{if(200!==e.status)throw new Error("status network not 200");r.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((e=>{r.textContent="Что то  пошло не так...",console.error(e)}))),c.value="",c.style.border="2px solid #E3E3E4",s.value="",s.style.border="2px solid #E3E3E4"}))})(e);const l=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(e)})})()})();